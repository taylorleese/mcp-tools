#!/usr/bin/env bash
# Helper script for MCP Toolz CLI

# Ensure we're in the right directory
cd "$(dirname "$0")" || exit

# Activate venv if not already active
if [ -z "$VIRTUAL_ENV" ]; then
    # shellcheck disable=SC1091
    source venv/bin/activate
fi

# Set PYTHONPATH to src/
PYTHONPATH="$(pwd)/src"
export PYTHONPATH

# Unset environment variables to ensure .env file is used
unset OPENAI_API_KEY
unset ANTHROPIC_API_KEY
unset GOOGLE_API_KEY
unset DEEPSEEK_API_KEY
unset MCP_TOOLZ_DB_PATH
unset MCP_TOOLZ_MODEL
unset MCP_TOOLZ_CLAUDE_MODEL
unset MCP_TOOLZ_GEMINI_MODEL
unset MCP_TOOLZ_DEEPSEEK_MODEL

# Run the CLI
python3 -m context_manager "$@"
